<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>
  <ul class="list-group">
    <li class="list-group-item" ng-repeat="user in users">
        <strong>{{user.name}}</strong><br>
        <span class="text-muted">{{user.email}}</span>
        <span>{{user.role}} {{currentuser._id}}</span>

      <div class="action-container" ng-show="user._id !== currentUser._id">
        <div class="form-group">
          <label for="roles">Roles</label>
          <select class="form-control" ng-model="user.role"
                ng-options="role for role in roles.roles">
            </select>
          <a class="btn btn-sm btn-primary" ng-click="changeRole(user)"><span class="fa fa-user"></span> Update Role</a>
        </div>
        <a class="btn btn-sm btn-danger" ng-click="delete(user)" class="trash"><span class="fa fa-trash"></span> Delete User</a>
      </div>
    </li>
  </ul>

</div>
